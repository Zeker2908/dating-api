# Dating API Microservices

![–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞](https://img.shields.io/badge/status-30%25%20Complete-yellow)

–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∑–Ω–∞–∫–æ–º—Å—Ç–≤. –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (25%)**.

---

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Spring Boot –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ dating-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç:

* **Auth Service**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ JWT
* **API Gateway**: —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
* **Notification Service**: –æ—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ Kafka —Å —à–∞–±–ª–æ–Ω–∞–º–∏ Thymeleaf
* **Discovery & Config**: Eureka Server –∏ Config Server (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è)
* **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: PostgreSQL, Redis, Kafka + Zookeeper —á–µ—Ä–µ–∑ Docker Compose

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **–Ø–∑—ã–∫ & —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏**: Java 21, Spring Boot 3.4.4, Spring Cloud 2024.0.1
* **API & Gateway**: Spring Cloud Gateway, Spring Security + OAuth2, JWT (EC‚Äë256)
* **–°–µ—Ä–≤–∏—Å-–¥–∏—Å–∫–∞–≤–µ—Ä–∏ & –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: Eureka (Netflix), Spring Cloud Config Server
* **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö**:

    * PostgreSQL —á–µ—Ä–µ–∑ Spring Data JPA
    * Redis (Jedis) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è refresh-—Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫—ç—à–∞
* **–ú–µ—Å—Å–µ–¥–∂–∏–Ω–≥**: Apache Kafka (Spring Kafka)
* **–ú–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã**: Liquibase
* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ & —É—Ç–∏–ª–∏—Ç—ã**: MapStruct 1.6.3, Lombok 1.18.36, Guava
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Springdoc OpenAPI (Swagger UI), Javadoc
* **–®–∞–±–ª–æ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞**: Thymeleaf

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã Auth/Notification.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Java 21
* Maven 3.8+
* Docker & Docker Compose
* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

  ```bash
  export CONFIG_REPO_URI=<URL_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è_—Å_–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π>
  export CONFIG_REPO_USER=<git_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å>
  export GITHUB_PASSWORD=<git_token>
  export ADMIN_USERNAME=<admin_email>
  
  ```

### –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
docker compose up --build
```

–ó–∞–ø—É—Å—Ç—è—Ç—Å—è:

* Eureka Server (`localhost:8761`)
* Config Server (`localhost:8888`)
* PostgreSQL (`localhost:5432`)
* Redis (6379 & 6380)
* Kafka & Zookeeper

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Auth Service

* **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º email (—á–µ—Ä–µ–∑ Kafka ‚ûî Notification Service)
* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**:

    * Access & Refresh —Ç–æ–∫–µ–Ω—ã (EC‚Äë256 JWT)
    * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Redis
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏**:

    * –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –ø–æ email)
    * –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å –≤—ã—Ö–æ–¥–æ–º –∏–∑ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    * –ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–æ–ª–µ–π (–Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
* **–õ–æ–≥–∞—É—Ç** (—Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è –∏ –≤—Å–µ —Å–µ—Å—Å–∏–∏)
* **–û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º**

  * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ
  * –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å –≤—ã—Ö–æ–¥–æ–º –∏–∑ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  * –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger UI & Javadoc

### API Gateway

* –í–∞–ª–∏–¥–∞—Ü–∏—è JWT —Å –ø–æ–º–æ—â—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
* –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (userId, email, —Ä–æ–ª—å)
* –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### Notification Service

* –°–ª—É—à–∞—Ç–µ–ª—å Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏ —Ç.–¥.)
* –û—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ SMTP —Å Thymeleaf-—à–∞–±–ª–æ–Ω–∞–º–∏

### Common Module

* –û–±—â–∏–µ DTO, –∑–∞–≥–æ–ª–æ–≤–∫–∏ API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —É—Ç–∏–ª–∏—Ç—ã

---

## üöß –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Roadmap)

* **CI/CD**: GitHub Actions / GitLab CI + Docker + –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ registry
* **Profile Service**: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ñ–æ—Ç–æ, –±–∏–æ, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)
* **Matching Service**: –ª–æ–≥–∏–∫–∞ –ø–æ–¥–±–æ—Ä–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
* **Geo‚Äë–ª–æ–∫–∞—Ü–∏—è**: PostGIS –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä—è–¥–æ–º
* **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ UI
* –û—Ç–∫–∞–∑ –æ—Ç Spring Config Server –≤ –ø–æ–ª—å–∑—É Vault –∏–ª–∏ Kubernetes Config

–ë—É–¥–µ–º —Ä–∞–¥—ã –≤–∞—à–µ–º—É –≤–∫–ª–∞–¥—É –∏ –∏–¥–µ—è–º!

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É —Ñ–∏—á–∏: `git checkout -b feature/YourFeature`
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç: `git commit -m "–î–æ–±–∞–≤–∏–ª —Ñ–∏—á—É"`
4. –ó–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: `git push origin feature/YourFeature`
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–±–ª—é–¥–∞–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã.

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

Maintainer: **–í–∞—à–µ –ò–º—è** ‚Äì \[[mud.runner@bk.ru](mailto:mud.runner@bk.ru)]

–õ–∏—Ü–µ–Ω–∑–∏—è: [GPL-3.0](LICENSE)
